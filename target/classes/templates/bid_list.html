<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <meta charset="UTF-8">
    <title th:text="'Bid History for Auction ' + ${auction.auctionId}">Bid History</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<div class="container mt-4">
    <h2 th:text="'Bid History for ' + ${pet.petName}"></h2>

    <input type="hidden" id="auctionId" th:value="${auction.auctionId}" />

    <div class="alert alert-info">
        Currently Winning: <span id="winningBidder" th:text="${winningBidderName}">None</span>
    </div>

    <table class="table table-striped">
        <thead>
        <tr>
            <th>Bidder</th>
            <th>Amount</th>
            <th>Time</th>
        </tr>
        </thead>
        <tbody id="bidListBody">
        <tr th:each="bid : ${bids}">
            <td th:text="${bidders[bid.bidId].name}">Bidder</td>
            <td th:text="${'$' + #numbers.formatDecimal(bid.amount , 1, 'COMMA', 2, 'POINT')}">$0.00</td>
            <td th:text="${#temporals.format(bid.bidTime, 'MMM d, yyyy h:mm a')}">Time</td>
        </tr>
        </tbody>
    </table>

    <a th:href="@{/product/{auctionId}(auctionId=${auction.auctionId})}" class="btn btn-secondary">Back to Auction</a>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/sockjs-client@1.5.1/dist/sockjs.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/stompjs@2.3.3/lib/stomp.min.js"></script>
<script th:src="@{/js/auction-update.js}"></script>
</body>
</html>


